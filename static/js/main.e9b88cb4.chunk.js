(this["webpackJsonpbuild-app"]=this["webpackJsonpbuild-app"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"domain":"dev-auth-angular.auth0.com","clientId":"3v2DyyMwkOL1jLyrm7ihieJb8PEmLFm6","language":"EN"}')},24:function(e,t,a){e.exports=a.p+"static/media/logo.979bfce6.svg"},30:function(e,t,a){e.exports=a.p+"static/media/login.0b905b27.svg"},31:function(e,t,a){e.exports=a.p+"static/media/register.8f5af410.svg"},32:function(e,t,a){e.exports=a(46)},37:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=(a(37),a(3)),s=a(11),i=a(5),m=a.n(i),u=a(10),p=a(1),d=a(14),g=a(23),f=a.n(g),b=function(){return window.history.replaceState({},document.title,window.location.pathname)},E=r.a.createContext(),v=function(){return Object(n.useContext)(E)},h=function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?b:a,l=Object(d.a)(e,["children","onRedirectCallback"]),o=Object(n.useState)(),s=Object(p.a)(o,2),i=s[0],g=s[1],v=Object(n.useState)(),h=Object(p.a)(v,2),N=h[0],w=h[1],y=Object(n.useState)(),j=Object(p.a)(y,2),O=j[0],x=j[1],k=Object(n.useState)(!0),S=Object(p.a)(k,2),C=S[0],L=S[1],T=Object(n.useState)(!1),R=Object(p.a)(T,2),I=R[0],P=R[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()(l);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,g(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,w(o);case 19:L(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},P(!0),e.prev=2,e.next=5,O.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,P(!1),e.finish(10);case 13:return e.next=15,O.getUser();case 15:a=e.sent,w(a),g(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,O.handleRedirectCallback();case 3:return e.next=5,O.getUser();case 5:t=e.sent,L(!1),g(!0),w(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.Provider,{value:{isAuthenticated:i,user:N,loading:C,popupOpen:I,loginWithPopup:A,handleRedirectCallback:W,getIdTokenClaims:function(){return O.getIdTokenClaims.apply(O,arguments)},loginWithRedirect:function(){return O.loginWithRedirect.apply(O,arguments)},getTokenSilently:function(){return O.getTokenSilently.apply(O,arguments)},getTokenWithPopup:function(){return O.getTokenWithPopup.apply(O,arguments)},logout:function(){return O.logout.apply(O,arguments)}}},t)},N=a(24),w=a.n(N),y=function(){return!!localStorage.getItem("jwt")},j=function(){var e=v(),t=e.isAuthenticated,a=e.logout;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(o.b,{className:"navbar-brand",to:"/me/google"},r.a.createElement("img",{src:w.a,alt:"logo",width:"40px"})),r.a.createElement("div",{className:"row justify-content-between",id:"navbarNav"},(t||y)&&r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item pr-2"},r.a.createElement(o.b,{className:"nav-link",to:"/me/google"},"Google")),r.a.createElement("li",{className:"nav-item pr-2"},r.a.createElement(o.b,{className:"nav-link",to:"/me/github"},"Github"))),r.a.createElement("ul",{className:"navbar-nav"},(t||y)&&(t?r.a.createElement("li",{className:"nav-item  pr-2"},t&&r.a.createElement(o.b,{className:"nav-link",onClick:function(){return a()}},"Log out")):r.a.createElement("li",{className:"nav-item  pr-2"},y&&r.a.createElement(o.b,{className:"nav-link",onClick:function(){localStorage.removeItem("jwt")},to:"/buildTest"},"Log out")))))))},O=function(){return r.a.createElement("footer",{className:"page-footer"},r.a.createElement("div",{className:"footer-copyright text-center py-4"},"\xa9 2020 Copyright: BuildTest"))},x=a(27),k=a.n(x),S=function(){var e=Object(n.useState)({picture:"",name:"",email:""}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(p.a)(l,2),s=o[0],i=o[1],m=a.picture,u=a.name,d=a.email;Object(n.useEffect)((function(){s&&c(a)}),[s]);var g=function(e){var t={picture:e.profileObj.imageUrl,name:e.profileObj.name,email:e.profileObj.email};c(t),i(!0)},f=v(),b=f.loading,E=f.user;return r.a.createElement(n.Fragment,null,b||!E?r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4 col-lg-12"},"Google Data"),r.a.createElement("div",{className:"col-lg-12 ".concat(s?"hide_profile":"")},r.a.createElement("div",{className:"jumbotron jumbotron-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"lead"},"It seems that you did not log in with google, it is necessary to show you your information, press the button and wait ..."),r.a.createElement(k.a,{clientId:"397062016864-us5mjm4b0jpbf4f95dr9uqd79s0dkmas.apps.googleusercontent.com",buttonText:"Login",onSuccess:g,onFailure:g,cookiePolicy:"single_host_origin"})))),r.a.createElement("div",{className:"card col-10 col-sm-6 col-lg-3 ".concat(s?"":"hide_profile")},r.a.createElement("img",{src:m,className:"card-img-top",alt:"profile"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},u),r.a.createElement("p",{className:"card-text"},d)))):r.a.createElement("div",{className:"card col-10 col-sm-6 col-lg-3"},r.a.createElement("img",{src:E.picture,className:"card-img-top",alt:"profile"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},E.name),r.a.createElement("p",{className:"card-text"},E.email))))},C=a(9),L=function(e){var t=e.repository.name;return r.a.createElement("li",{className:"list-group-item","aria-disabled":"true"},t)},T=function(e){var t=e.repositories;return r.a.createElement("div",{className:"repositories"},t.map((function(e){return r.a.createElement(L,{key:e.id,repository:e})})))},R=a(28),I=a.n(R),P=a(29),A=a.n(P),W=function(){var e=A()(I.a),t=Object(n.useState)({username:""}),a=Object(p.a)(t,2),c=a[0],l=a[1],o=c.username,s=Object(n.useState)(!1),i=Object(p.a)(s,2),d=i[0],g=i[1],f=Object(n.useState)([]),b=Object(p.a)(f,2),E=b[0],v=b[1];Object(n.useEffect)((function(){h()}),[d]);var h=function(){var t=Object(u.a)(m.a.mark((function t(){var a,n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d){t.next=14;break}return a="https://api.github.com/users/".concat(o,"/repos"),t.next=4,fetch(a);case 4:return n=t.sent,t.next=7,n.json();case 7:if("Not Found"!==(c=t.sent).message){t.next=12;break}return e.fire({onOpen:function(){e.clickConfirm()}}).then((function(){return e.fire(r.a.createElement("p",null,"Repository not found."))})),g(!1),t.abrupt("return");case 12:v(c),g(!1);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"display-4 col-lg-12"},"Github Repositories"),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("form",{className:"form-row",onSubmit:function(t){t.preventDefault(),""!==o.trim()?g(!0):e.fire({onOpen:function(){e.clickConfirm()}}).then((function(){return e.fire(r.a.createElement("p",null,"Write a repository name to search..."))}))}},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("input",{className:"form-control",type:"text",name:"username",id:"username",placeholder:"Github Username",value:o,onChange:function(e){l(Object(C.a)({username:o},e.target.name,e.target.value))}}),r.a.createElement("button",{type:"submit",className:"btn btn-block b-grape mt-2"},"Search!")))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("ul",{className:"list-group"},d?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement(T,{repositories:E}))))},U=function(){return r.a.createElement("div",{className:"container-fluid p-0"},r.a.createElement(j,null),r.a.createElement("div",{className:"container"},r.a.createElement(s.a,{path:"/me/google",component:S}),r.a.createElement(s.a,{path:"/me/github",component:W})),r.a.createElement(O,null))},_=a(15),D=a(30),F=a.n(D),G=Object(n.createContext)(),J=function(e){var t=Object(n.useContext)(G),a=t.alert,c=t.showAlert,l=Object(n.useState)({email:"",password:""}),i=Object(p.a)(l,2),m=i[0],u=i[1],d=m.email,g=m.password,f=Object(s.f)(),b=function(e){u(Object(_.a)({},m,Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container-fluid h-100"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-lg-6 background-light d-flex align-middle justify-content-center"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:F.a,alt:"login",width:"80%"}))),r.a.createElement("div",{className:"col-lg-6 background-dark d-flex justify-content-center"},r.a.createElement("div",{className:"col-lg-8 p-4 align-self-center"},r.a.createElement("h3",{className:"mb-4"},"Welcome!"),r.a.createElement("p",{className:"mb-4 font-weight-light"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt magnam officiis."),r.a.createElement("p",{className:"t-grape mb-2"}," Login "),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""!==d.trim()&&""!==g.trim()){var t=JSON.parse(localStorage.getItem("user"));null!==t?d===t.email&&g===t.password?(localStorage.setItem("jwt","TestLogin"),f.push("/me/google")):c("Email and password are not valid, Try again...","alert-error"):c("Oops! you need to register before starting","alert-error")}else c("Email and password are required","alert-error")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",onChange:b,value:d,placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",onChange:b,value:g,placeholder:"Password"})),a?r.a.createElement("div",{className:"alert ".concat(a.category)},a.msg):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn mb-2 b-grape"},"Sign In"))),r.a.createElement("div",null,r.a.createElement("p",{className:"mb-0 col-lg-12 p-0"},"Or login with",r.a.createElement(o.b,{className:"google",to:"/me/google"}," ","Google")),r.a.createElement("p",{className:"mb-0 col-lg-12 p-0"},"Don't you have an account? ",r.a.createElement(o.b,{to:"/signup"}," Sign Up ")," "))))))},H=a(31),q=a.n(H),B=function(){var e=Object(n.useContext)(G),t=e.alert,a=e.showAlert,c=Object(n.useState)({firstname:"",lastname:"",email:"",password:"",retypePassword:""}),l=Object(p.a)(c,2),i=l[0],m=l[1],u=i.firstname,d=i.lastname,g=i.email,f=i.password,b=i.retypePassword,E=Object(s.f)(),v=function(e){m(Object(_.a)({},i,Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container-fluid h-100"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-lg-6 background-light d-flex align-middle justify-content-center"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:q.a,alt:"register",width:"80%"}))),r.a.createElement("div",{className:"col-lg-6 background-dark d-flex justify-content-center"},r.a.createElement("div",{className:"col-lg-8 p-4 align-self-center"},r.a.createElement("h3",{className:"mb-4"},"Lorem ipsum, dolor sit amet consectetur."),r.a.createElement("p",{className:"mb-4 font-weight-light"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt magnam officiis."),r.a.createElement("p",{className:"t-grape mb-2"}," Sign Up "),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==u.trim()&&""!==g.trim()&&""!==f.trim()&&""!==b.trim()?f.length<6?a("Password must be min 6 characters","alert-error"):f===b?(localStorage.setItem("user",JSON.stringify(i)),E.push("/")):a("Make sure your passwords match","alert-error"):a("First name, email, password and retype password are required","alert-error")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"firstname",name:"firstname",onChange:v,value:u,placeholder:"First Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"lastname",name:"lastname",onChange:v,value:d,placeholder:"Last Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",onChange:v,value:g,placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",onChange:v,value:f,placeholder:"Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"retypePassword",name:"retypePassword",onChange:v,value:b,placeholder:"Retype Password"})),t?r.a.createElement("div",{className:"alert ".concat(t.category)},t.msg):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn b-grape mb-2"},"Create Account"))),r.a.createElement("p",{className:"mb-0 col-lg-12 p-0"}," ","Already have an account? ",r.a.createElement(o.b,{to:"/buildTest"},"Sign In")," ")))))},M=function(e,t){switch(t.type){case"SHOW_ALERT":return{alert:t.payload};case"HIDE_ALERT":return{alert:null};default:return e}},$=function(e){var t=Object(n.useReducer)(M,{alert:null}),a=Object(p.a)(t,2),c=a[0],l=a[1];return r.a.createElement(G.Provider,{value:{alert:c.alert,showAlert:function(e,t){l({type:"SHOW_ALERT",payload:{msg:e,category:t}}),setTimeout((function(){l({type:"HIDE_ALERT"})}),5e3)}}},e.children)},z=a(4),K=Object(z.a)(),Q=function(e){var t=e.component,a=e.path,c=Object(d.a)(e,["component","path"]),l=v(),o=l.loading,i=l.isAuthenticated,p=l.loginWithRedirect;Object(n.useEffect)((function(){o||i||!0===y()||function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,i,p,a]);return r.a.createElement(s.a,Object.assign({path:a,render:function(e){return!0===i||y()?r.a.createElement(t,e):null}},c))};var V=function(){return v().loading?r.a.createElement("div",null,"Loading..."):r.a.createElement(o.a,{basename:"/"},r.a.createElement(n.Fragment,null,r.a.createElement($,null,r.a.createElement(s.b,{history:K},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/buildTest",component:J}),r.a.createElement(s.a,{exact:!0,path:"/signup",component:B}),r.a.createElement(Q,{path:"/me/:component",component:U}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(20);l.a.render(r.a.createElement(h,{domain:X.domain,client_id:X.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){K.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.e9b88cb4.chunk.js.map